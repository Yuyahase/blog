---
title: "シェル環境のカスタマイズ"
date: 2022-02-17T11:30:03+00:00
tags: ["linux"] 
author: "Me"
canonicalURL: "https://canonical.url/to/page"
xdisableHLJS: true # to disable highlightjs
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
ShowCodeCopyButtons: true
---
## シェル変数と環境変数の違い

### シェル変数

設定されたシェルだけが使用する変数。子プロセスには引き継がれない。

|変数|説明|
|-|-|
|$?|直前に実行されたコマンドの終了ステータス|
|$n|シェルスクリプトに渡されたn番目の引数、10個目以降は${10}のように指定する|
|$$|現在のシェルのPID|
|$#|実行時に指定された引数の数|

### 環境変数

設定されたシェルとそのシェルで起動したプログラムが使用する変数。子プロセスに引き継がれる。

### exportコマンド

環境変数を設定するコマンド。
環境変数は子プロセスとして起動したアプリケーションに引き継がれるので、アプリケーションから利用できる。

### envコマンド

環境変数を一時的に変更したり、削除するコマンド。

|オプション|説明|
|-|-|
|-i|何も環境変数が設定されていない状態にする|
|-u|環境変数を一時的に削除|
|オプションなし|全ての環境変数を表示|

### setコマンド

setコマンドはオプションを指定せずに実行すると、シェル変数、シェル関数を表示する。

|オプション|説明|
|-|-|
|-o|シェルオプションを有効にする|
|+o|シェルオプションを無効にする|
|allexport|新規作成・変更した変数を自動的に環境変数とする|
|emacs|emacsエディタと同じキービンどにする|
|ignoreeof|Ctrl + Dを押してもログアウトしない設定にする|
|noclobber|リダイレクト演算子で既存ファイルの上書きを無効にする|
|noglob|パス名展開を向こうにする(*や?を無効にする)|
|noexec|シェルスクリプトを読み込むが、構文エラーのみ確認する|

bash起動時に実行される主な環境設定ファイル

/etc/profile
/.bash_profile
/.bash_login
/.profile

## alias/unaliasコマンド

エイリアスの設定は `alias` コマンドを使用する。

`alias エイリアス名='コマンド'`

登録したエイリアスを削除するには `unalias` コマンドを使用する。

`unalias -a` で登録している全てのエイリアスが削除される。

一時的にエイリアスを無効にするには、\\を入力する。

## unsetコマンド

設定済みの環境変数やシェル変数の削除を行うコマンド。

## コマンドの実行履歴

`~/.bash_history` に保存される。

## シェルスクリプトの実行方法

source, .(ドット)はスクリプトの実行権限がなくても実行できる。

./はシェルスクリプトに実行件をつけてコマンドのように実行する方法。
サブシェル内で実行されるので、現在のシェルには設定は反映されない。

sh, bashコマンドはサブシェルを起動してシェルスクリプトを実行する。
